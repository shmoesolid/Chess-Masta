(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},36:function(e,t,a){},53:function(e,t,a){e.exports=a(93)},58:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),c=a.n(l),o=(a(58),a(12)),u=a.n(o),s=a(16),i=a(5),m=a(15),d=a(4),p=a(96),f=a(97);a(36);var g=function(){return r.a.createElement(r.a.Fragment,null)},E=a(24),b=a(44),v=Object(n.createContext)(null),h=a(7),O=a.n(h);var j=function(){var e=Object(n.useContext)(v).userData,t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("input",{name:"name",placeholder:"Game name...",onChange:function(e){var t=e.target.value,a=e.target.name;c(Object(b.a)({},l,Object(E.a)({},a,t)))}}),r.a.createElement("button",{onClick:function(t){t.preventDefault(),O.a.post("/api/games/",l,{headers:{"x-auth-token":e.token}}).then(function(e){console.log(e)}).catch(function(e){e&&console.log(e)})}},"Submit")))};var y=function(e){var t,a=Object(n.useContext)(v).userData,l=Object(n.useState)(Array.from({length:8},function(){return Array.from({length:8},function(){return null})})),c=Object(i.a)(l,2),o=c[0],u=c[1],s=!1,m=["a","b","c","d","e","f","g","h"],d=getComputedStyle(document.documentElement).getPropertyValue("--cell-size").slice(0,-2),p=null;function f(e){return Math.floor(e/d)}return Object(n.useEffect)(function(){t=e.game,u(e.game._grid)}),r.a.createElement("div",null,r.a.createElement("div",{className:"board_border"},r.a.createElement("div",{id:"board",onClick:function(n){var r,l,c=document.getElementById("board"),o=c.getBoundingClientRect();s?(r=Math.abs(n.clientX-c.offsetWidth-c.offsetLeft),l=n.clientY-c.offsetTop):(r=n.pageX-o.left,l=Math.abs(n.pageY-o.height-o.top));var u=f(r),i=f(l),d="Actual: "+r+", "+l+"<br />Array: [ "+u+" ][ "+i+" ]<br />Notation: "+m[u]+(i+1)+"<br />";document.getElementById("coords").innerHTML=d;var g,E,b=m[u]+(i+1),v=t._getNodeByString(b);if(null===p)!1!==v&&null!==v.p&&(p=v);else if(p===v)p=null;else{var h=m[p.x]+(p.y+1);g=h,E=b,O.a.put("/api/games",{id:e.data._id,from:g,to:E},{headers:{"x-auth-token":a.token}}).then(function(){return e.update(e.data._id)}).catch(function(e){e&&console.log(e)}),p=null}document.getElementById("selected").textContent=p},style:{position:"relative"}},r.a.createElement("table",{id:"t01"},r.a.createElement("tbody",null,function(){for(var e=[],t=0;t<8;t++){for(var a=[],n=0;n<8;n++)a.push(r.a.createElement("td",{key:"row-"+n}));e.push(r.a.createElement("tr",{key:"col-"+t},a))}return e}())),o.map(function(e,t){return e.map(function(e,a){if(null===e||null===e.p)return r.a.createElement("div",{style:{position:"absolute"},key:"null-"+t+a});var n=e.p.color.toLowerCase(),l=e.p.type.toLowerCase(),c=function(e){var t=document.getElementById("board"),a=e.x*d+10,n=t.offsetHeight;return{top:n-=e.y*d+40+10,left:a}}(e);return r.a.createElement("img",{key:"piece-"+t+a,src:"assets/img/".concat(n).concat(l,".gif"),alt:n+l+" chess piece",style:{position:"absolute",top:c.top,left:c.left,zIndex:10}})})}))),r.a.createElement("div",{style:{color:"white"}},"Selected:",r.a.createElement("span",{id:"selected"})),r.a.createElement("br",null),r.a.createElement("div",{id:"coords",style:{color:"white"}}))},k=a(45),w=a.n(k);var x=function(){var e=Object(n.useContext)(v).userData,t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),u=Object(i.a)(o,2),s=u[0],m=u[1];Object(n.useEffect)(function(){d()},[]);var d=function(){O.a.get("/api/games",{headers:{"x-auth-token":e.token}}).then(function(e){c(e.data)}).catch(function(e){e&&console.log(e)})},p=function(t){O.a.get("/api/games/"+t,{headers:{"x-auth-token":e.token}}).then(function(e){var t=new w.a;t.setGridFromJSON(e.data.boardData),console.log("loaded:",t._grid),m({gameObj:t,data:e.data})}).catch(function(e){e&&console.log(e)})};return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return m(null)}},"BACK"),r.a.createElement(y,{game:s.gameObj,data:s.data,update:p})):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,l.map(function(e,t){return r.a.createElement("li",{key:t},e.name,"\xa0",r.a.createElement("button",{onClick:function(){return p(e._id)}},"Load"))}))))};function C(e){return r.a.createElement("div",{className:"error-notice"},r.a.createElement("span",null,e.message),r.a.createElement("button",{onClick:e.clearError},"X"))}a(23);function N(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(i.a)(c,2),m=o[0],p=o[1],f=Object(n.useState)(),g=Object(i.a)(f,2),E=g[0],b=g[1],h=Object(n.useContext)(v).setUserData,j=Object(d.f)(),y=function(){var e=Object(s.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m},e.next=5,O.a.post("/users/login",n);case 5:r=e.sent,h({user:r.data.user}),j.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.msg&&b(e.t0.response.data.msg);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"page"},r.a.createElement("h2",null,"Log in"),E&&r.a.createElement(C,{message:E,clearError:function(){return b(void 0)}}),r.a.createElement("form",{className:"form",onSubmit:y},r.a.createElement("label",{htmlFor:"login-email"},"Email"),r.a.createElement("input",{id:"login-email",type:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"login-password"},"Password"),r.a.createElement("input",{id:"login-password",type:"password",onChange:function(e){return p(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Log in"})))}function S(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(i.a)(c,2),m=o[0],p=o[1],f=Object(n.useState)(),g=Object(i.a)(f,2),E=g[0],b=g[1],h=Object(n.useState)(),j=Object(i.a)(h,2),y=j[0],k=j[1],w=Object(n.useState)(),x=Object(i.a)(w,2),N=x[0],S=x[1],D=Object(n.useContext)(v).setUserData,F=Object(d.f)(),L=function(){var e=Object(s.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m,passwordCheck:E,displayName:y},e.next=5,O.a.post("/users/register",n);case 5:return e.next=7,O.a.post("/users/login",{email:a,password:m});case 7:r=e.sent,D({user:r.data.user}),F.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response.data.msg&&S(e.t0.response.data.msg);case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"page"},r.a.createElement("h2",null,"New User? Create an Account."),N&&r.a.createElement(C,{message:N,clearError:function(){return S(void 0)}}),r.a.createElement("form",{className:"form",onSubmit:L},r.a.createElement("label",{htmlFor:"register-email"},"Email"),r.a.createElement("input",{id:"register-email",type:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-password"},"Password"),r.a.createElement("input",{id:"register-password",type:"password",onChange:function(e){return p(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Verify password",onChange:function(e){return b(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-display-name"},"Display name"),r.a.createElement("input",{id:"register-display-name",type:"text",onChange:function(e){return k(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Register"})))}function D(){var e=Object(n.useContext)(v),t=e.userData,a=e.setUserData,l=Object(d.f)();return r.a.createElement("nav",{className:"auth-options"},t.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token","")}},"Log out")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e={headers:{"x-auth-token":localStorage.getItem("auth-token","")}};O.a.delete("/users/delete",e),a({token:void 0,user:void 0}),l.push("/login")}},"Delete Account"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return l.push("/register")}},"Register"),r.a.createElement("button",{onClick:function(){return l.push("/login")}},"Log in")))}var F=a(47),L=a(22),B=[{title:"Home",path:"/",icon:r.a.createElement(F.a,null),cName:"nav-text"},{title:"Create Game",path:"/create",icon:r.a.createElement(L.b,null),cName:"nav-text"},{title:"Rooms",path:"/rooms",icon:r.a.createElement(L.b,null),cName:"nav-text"},{title:"User Profile",path:"/auth-options",icon:r.a.createElement(L.b,null),cName:"nav-text"},{title:"Docs",path:"/documentation",icon:r.a.createElement(L.a,null),cName:"nav-text"}],I=function(e){return r.a.createElement("div",null,r.a.createElement("ul",null,B.map(function(e,t){return r.a.createElement("li",{key:t,className:e.cName},r.a.createElement(m.b,{to:e.path},e.icon,r.a.createElement("span",null,"\xa0",e.title)))})))},A=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"m-auto pt-0",id:"toggle",onClick:e.click},"\u2261"))};var _=function(){var e,t=Object(n.useState)(!0),a=Object(i.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)({token:void 0,user:void 0}),u=Object(i.a)(o,2),s=u[0],E=u[1];return Object(n.useEffect)(function(){},[]),l&&(e=r.a.createElement(I,{close:function(){c(!1)},sidenav:"sidenav"})),r.a.createElement("div",{className:"App"},r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(v.Provider,{value:{userData:s,setUserData:E}},r.a.createElement(p.a,{className:"sticky-top"},r.a.createElement(A,{click:function(){c(!l)}}),r.a.createElement(p.a.Brand,{href:"/"},"Chess Masta Logo"),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"ml-auto"},r.a.createElement(f.a.Item,null,s.user?r.a.createElement("p",null,"Welcome, ",s.user.displayName,"!"):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{to:"/login"},"Login")))))),r.a.createElement("div",{className:"row m-0"},r.a.createElement("div",{className:"col-md-3"},e),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:g}),r.a.createElement(d.a,{path:"/create",exact:!0,component:j}),r.a.createElement(d.a,{path:"/rooms",exact:!0,component:x}),r.a.createElement(d.a,{path:"/login",exact:!0,component:N}),r.a.createElement(d.a,{path:"/register",exact:!0,component:S}),r.a.createElement(d.a,{path:"/auth-options",exact:!0,component:D}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}},[[53,1,2]]]);
//# sourceMappingURL=main.076d9ba3.chunk.js.map